services:
  sensor1:
    image: fabiochini/renoir-test
    container_name: sensor1
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  sensor2:
    image: fabiochini/renoir-test
    container_name: sensor2
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  sensor3:
    image: fabiochini/renoir-test
    container_name: sensor3
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  sensor4:
    image: fabiochini/renoir-test
    container_name: sensor4
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
  
  worker1:
    image: fabiochini/renoir-test
    container_name: worker1
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    depends_on:
      - worker5
      - worker6
      - worker7
  
  worker2:
    image: fabiochini/renoir-test
    container_name: worker2
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    depends_on:
      - worker5
      - worker6
      - worker7

  worker3:
    image: fabiochini/renoir-test
    container_name: worker3
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    depends_on:
      - worker5
      - worker6
      - worker7

  worker4:
    image: fabiochini/renoir-test
    container_name: worker4
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    depends_on:
      - worker5
      - worker6
      - worker7

  worker5:
    image: fabiochini/renoir-test
    container_name: worker5
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    depends_on:
      - worker7

  worker6:
    image: fabiochini/renoir-test
    container_name: worker6
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  worker7:
    image: fabiochini/renoir-test
    container_name: worker7
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
  
  launcher:
    image: fabiochini/renoir-test
    container_name: launcher
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    volumes:
      - ./:/renoir
    tty: true