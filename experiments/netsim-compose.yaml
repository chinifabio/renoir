services:
  sensor1:
    image: fabiochini/renoir-test
    container_name: sensor1
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  sensor2:
    image: fabiochini/renoir-test
    container_name: sensor2
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  sensor3:
    image: fabiochini/renoir-test
    container_name: sensor3
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  sensor4:
    image: fabiochini/renoir-test
    container_name: sensor4
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
  
  worker1:
    image: fabiochini/renoir-test
    container_name: worker1
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker5 worker6 worker7"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
  
  worker2:
    image: fabiochini/renoir-test
    container_name: worker2
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker5 worker6 worker7"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  worker3:
    image: fabiochini/renoir-test
    container_name: worker3
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker5 worker6 worker7"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  worker4:
    image: fabiochini/renoir-test
    container_name: worker4
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker5 worker6 worker7"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  worker5:
    image: fabiochini/renoir-test
    container_name: worker5
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker1 worker2 worker3 worker4 worker7"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  worker6:
    image: fabiochini/renoir-test
    container_name: worker6
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker1 worker2 worker3 worker4 worker7"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME

  worker7:
    image: fabiochini/renoir-test
    container_name: worker7
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - INTERFACE=eth0
      - TARGET_HOSTS="worker1 worker2 worker3 worker4 worker5 worker6"
      - BANDWIDTH_RATE
      - LATENCY_MS
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
  
  launcher:
    image: fabiochini/renoir-test
    container_name: launcher
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - AUTHORIZED_KEYS
      - SSH_PASSWORD
      - SSH_USERNAME
    volumes:
      - ./:/renoir
    tty: true