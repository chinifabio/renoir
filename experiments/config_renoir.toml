[[host]]
name = "sensor1"
layer = "sensor"
address = "sensor1"
num_cores = 1
base_port = 9500
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "sensor2"
layer = "sensor"
address = "sensor2"
num_cores = 1
base_port = 9500
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "sensor3"
layer = "sensor"
address = "sensor3"
num_cores = 1
base_port = 9500
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "sensor4"
layer = "sensor"
address = "sensor4"
num_cores = 1
base_port = 9500
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker1"
address = "worker1"
num_cores = 1
base_port = 9500
[host.capabilites]
n_cpu = 1
ram = 2
gpu = "no"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker2"
address = "worker2"
num_cores = 1
base_port = 9500
[host.capabilites]
n_cpu = 1
ram = 2
gpu = "no"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker3"
address = "worker3"
num_cores = 1
base_port = 9500
[host.capabilites]
n_cpu = 1
ram = 2
gpu = "no"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker4"
address = "worker4"
num_cores = 1
base_port = 9500
[host.capabilites]
n_cpu = 1
ram = 2
gpu = "no"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker5"
address = "worker5"
num_cores = 4
base_port = 9500
[host.capabilites]
n_cpu = 2
ram = 8
gpu = "no"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker6"
address = "worker6"
num_cores = 4
base_port = 9500
[host.capabilites]
n_cpu = 2
ram = 8
gpu = "no"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[host]]
name = "worker7"
address = "worker7"
num_cores = 16
base_port = 9500
[host.capabilites]
n_cpu = 4
ram = 64
gpu = "yes"
[host.ssh]
username = "renoir"
key_file = "/renoir/id_rsa"

[[group]]
name = "edge"
constraints = "n_cpu = 1,gpu = no"
[group.output]
type = "Kafka"
brokers = ["127.0.0.1:9093"]
topic = "edge-site"

[[group]]
name = "site"
constraints = "n_cpu > 1,gpu = no"
[group.input]
type = "Kafka"
brokers = ["127.0.0.1:9093"]
topic = "edge-site"
[group.output]
type = "Kafka"
brokers = ["127.0.0.1:9093"]
topic = "site-cloud"

[[group]]
name = "cloud"
constraints = "n_cpu >= 4,gpu = yes"
[group.input]
type = "Kafka"
brokers = ["127.0.0.1:9093"]
topic = "site-cloud"

[heartbeat]
brokers = ["127.0.0.1:9093"]